@model EmployerMyProfileModel
@{
    Layout = "_Layout";
}
<main class="main">
    <section class="section-box mt-50">
        <div class="container">
            <div class="row">
                <div class="col-md-12 mb-50">
                    <div class="content-single">
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="tab-my-profile" role="tabpanel" aria-labelledby="tab-my-profile">
                                <div class="row">
                                    <div class="col-md-8">
                                        <h3 class="mt-0 mb-15 color-brand-1">Hesabım</h3>
                                        <a class="font-md color-text-paragraph-2" href="#">Profilinizi Güncelleyin</a>
                                    </div>
                                    <div class="col-md-4 text-end" style="align-self: center">
                                        <a class="btn btn-preview-icon btn-apply btn-apply-big" href="/profil/@Model.EmployerInformation.UserId">Önizleme</a>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="mt-35 box-info-profie">
                                            <div class="image-profile">
                                                <img src="@Model.EmployerInformation.ProfilePhoto">
                                            </div>
                                            <button onclick="uploadPhotoClicked()" class="btn btn-apply">Fotoğraf Yükle</button>
                                            <form name="profilePhotoForm" asp-controller="Profile" asp-action="UpdateProfilePhoto" method="post" enctype="multipart/form-data">
                                                <input hidden type="file" name="ProfilePhoto" onchange="submitForm()" class="profile-photo-input" />
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-8 col-md-12">
                                        <h5 class="f-18 mb-0">@Model.EmployerInformation.Name @Model.EmployerInformation.Surname</h5>
                                        <p class="mt-0 font-md color-text-paragraph-2 mb-15">İşveren</p>
                                    </div>
                                </div>
                                <form asp-controller="Profile" asp-action="UpdateEmployerInformation" method="post">
                                    <div class="row form-contact">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">Ad *</label>
                                                <input class="form-control" asp-for="@Model.EmployerInformation.Name"
                                                       data-val="true" data-val-required="Ad gerekli.">
                                                <div class="error-message" data-valmsg-for="EmployerInformation.Name" data-valmsg-replace="true"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">Soyad *</label>
                                                <input class="form-control" asp-for="@Model.EmployerInformation.Surname"
                                                       data-val="true" data-val-required="Soyad gerekli.">
                                                <div class="error-message" data-valmsg-for="EmployerInformation.Surname" data-valmsg-replace="true"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">E-posta *</label>
                                                <input class="form-control" type="email" asp-for="@Model.EmployerInformation.Email"
                                                       data-val="true" data-val-required="Email gerekli.">
                                                <div class="error-message" data-valmsg-for="EmployerInformation.Email" data-valmsg-replace="true"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">Telefon *</label>
                                                <input class="form-control" asp-for="@Model.EmployerInformation.Phone"
                                                       data-val="true" data-val-required="Telefon gerekli.">
                                                <div class="error-message" data-valmsg-for="EmployerInformation.Phone" data-valmsg-replace="true"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">TCKN *</label>
                                                <input class="form-control" asp-for="@Model.EmployerInformation.Tckn"
                                                       data-val="true" data-val-required="TCKN gerekli.">
                                                <div class="error-message" data-valmsg-for="EmployerInformation.Tckn" data-valmsg-replace="true"></div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">Şirket Adı (opsiyonel)</label>
                                                <input class="form-control" asp-for="@Model.EmployerInformation.CompanyName">
                                            </div>
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">Vergi Numarası (opsiyonel)</label>
                                                <input class="form-control" asp-for="@Model.EmployerInformation.TaxNumber">
                                            </div>
                                            <div class="form-group">
                                                <label class="font-sm color-text-mutted mb-10">Vergi Dairesi (opsiyonel)</label>
                                                <input class="form-control" asp-for="@Model.EmployerInformation.TaxPlace">
                                            </div>
                                            <div class="border-bottom pt-10 pb-10 mb-30"></div>
                                            <h6 class="color-orange mb-20">Parolanızı Değiştirin</h6>
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="form-group">
                                                        <label class="font-sm color-text-mutted mb-10">Yeni Parola</label>
                                                        <input class="form-control" type="password" asp-for="@Model.EmployerInformation.NewPassword">
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <div class="form-group">
                                                        <label class="font-sm color-text-mutted mb-10">Yeni Parola Tekrar *</label>
                                                        <input class="form-control" type="password" asp-for="@Model.EmployerInformation.NewPasswordAgain">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="box-button mt-15">
                                                <button class="btn btn-apply-big font-md font-bold">Bilgileri Güncelle</button>
                                            </div>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
@section scripts {
    <script>
        let uploadPhotoClicked = () => {
            $(".profile-photo-input").click();
        }

        let submitForm = () => {
            console.log("submitting form");
            document.forms["profilePhotoForm"].submit();
        }
    </script>
}